{% extends "base.html" %}
{% load cms_tags %}

{% block title %}{% page_attribute "page_title" %}{% endblock title %}

{% block content %}

<class id="map"></div>
	
	<div id="over_map">
		
		<div class="panel-group" id="accordion">
			
			<div class="panel panel-default">
				
				<div class="panel-heading">
					<h4 class="panel-title"><a data-toggle="collapse" data-parent="#accordion" href="#collapse1">Historical flood tool</a></h4>
				</div>
				<div id="collapse1" class="panel-collapse collapse in">
					<div class="panel-body">
						<p>Select period</p>
						<div id="aoiControl" data-slider-id='aoiControlSlider'/></div>  
						<p>&nbsp;</p>
						<button id="updateWaterMap">show map</button>	
					</div>
				</div>
			</div>
  
			<div class="panel panel-default">
				<div class="panel-heading">
					<h4 class="panel-title"><a data-toggle="collapse" data-parent="#accordion" href="#collapse2">Land Cover</a></h4>
				</div>
				
				<div id="collapse2" class="panel-collapse collapse">
					<div class="panel-body">
					<p>&nbsp;</p>
					<p>Select catagorie(s) of interest</p>
					<div class="legend-value">
						<div class="legend-value"><input type="checkbox" id="forest"><label>Forest</label></div>
						<div class="legend-value"><input type="checkbox" id="soil"><label>Bare Soil</label></div>
						<div class="legend-value"><input type="checkbox" id="grass"><label>Grass</label></div>
						<div class="legend-value"><input type="checkbox" id="shrub"><label>Shrub</label></div>
						<p>&nbsp;</p>
					  
					</div>
				</div>
			</div>	
		
		
			<div class="panel panel-default">
				<div class="panel-heading">
					<h4 class="panel-title">
					<a data-toggle="collapse" data-parent="#accordion" href="#collapse3">Show recent satellite image</a></h4>
				</div>
				
				<div id="collapse3" class="panel-collapse collapse">
					<div class="panel-body">
						<p>&nbsp;</p>					
						<button id="updateSatellite">show image</button>		
						<p>&nbsp;</p>	
					</div>
				</div>			
			</div>			
			
			<div class="panel panel-default">
				<div class="panel-heading">
					<h4 class="panel-title"><a data-toggle="collapse" data-parent="#accordion" href="#collapse4">Clear map</a></h4>
				</div>
				
				<div id="collapse4" class="panel-collapse collapse">
					<div class="panel-body">
						<p>&nbsp;</p>					
						<button id="clear">Clear</button>		
						<p>&nbsp;</p>
					</div>
				</div>		
			</div>				
		
		</div>
	</div>


 
 	<script>
	$('#aoiControl').slider({
		tooltip_position: 'top',
		range:true,
		min:1984,
		max:2015,
		values:[1985,2014],
		step:1,
		formatter: function(value) {
		return 'year: ' + value;
		}
		});
	</script>


	<script>
	
	// Here we get the mapid and token for the map tiles that were generated by Earth Engine using the Python script server.py and injected using the Jinja2 templating engine.
	boot(
          '{{ eeMapId | safe }}',
          '{{ eeToken | safe }}');
	</script>


<class id="box"></div>


{% endblock content %}



